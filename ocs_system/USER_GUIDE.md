# OCS 系統使用指南

## 🚀 快速開始

### 方法 1: 使用批次腳本 (最簡單)

```bash
# 雙擊執行
run_gui.bat
```

### 方法 2: 命令列執行

```bash
# 1. 進入專案目錄
cd ocs_system

# 2. 安裝依賴 (首次使用)
pip install customtkinter opencv-python pillow numpy

# 3. 啟動 GUI
python main_gui.py
```

---

## 📖 使用步驟

### 1. 啟動程式

執行 `run_gui.bat` 或 `python main_gui.py`

### 2. 選擇影像來源

- **上傳圖片**: 選擇此選項，然後點擊「選擇圖片檔案」
- **即時鏡頭**: (開發中)

### 3. 載入圖片

點擊「選擇圖片檔案」按鈕，選擇包含硬幣的圖片

支援格式: JPG, PNG, BMP

### 4. 開始辨識

點擊綠色的「🔍 開始辨識」按鈕

### 5. 查看結果

- **左下方**: 總金額與硬幣總數
- **右上方**: 標註後的圖片
- **右下方**: 詳細辨識結果

---

## 🎨 介面說明

```
┌─────────────────────────────────────────────────────────┐
│                    OCS 硬幣辨識系統                     │
├──────────────────────┬──────────────────────────────────┤
│  📷 影像來源         │  🖼️ 影像顯示                    │
│  ○ 上傳圖片          │                                  │
│  ○ 即時鏡頭          │  (顯示原圖或辨識結果)            │
│  [選擇圖片檔案]      │                                  │
│  [🔍 開始辨識]       │                                  │
├──────────────────────┼──────────────────────────────────┤
│  📊 辨識結果摘要     │  📋 詳細辨識結果                 │
│  總金額: 83 元       │  【50元硬幣】                    │
│  硬幣總數: 10 個     │    總數: 0 個                    │
│                      │  【10元硬幣】                    │
│                      │    總數: 5 個 (正3/反2)          │
│                      │  【5元硬幣】                     │
│                      │    總數: 2 個 (正1/反1)          │
│                      │  【1元硬幣】                     │
│                      │    總數: 3 個 (正2/反1)          │
└──────────────────────┴──────────────────────────────────┘
```

---

## 💡 使用技巧

### 拍攝建議

1. **光線充足**: 使用自然光或均勻照明
2. **背景簡潔**: 使用純色背景 (白色或深色)
3. **硬幣平放**: 確保硬幣平整不重疊
4. **適當距離**: 確保所有硬幣清晰可見

### 最佳實踐

- 硬幣之間保持適當間距
- 避免陰影遮擋
- 圖片解析度建議 1920x1080 以上

---

## ⚠️ 常見問題

### Q: 辨識不準確怎麼辦？

A: 
- 檢查光線是否充足
- 確認硬幣沒有重疊
- 使用更高解析度的圖片

### Q: 無法啟動程式？

A:
```bash
# 確認 Python 版本
python --version  # 需要 3.8+

# 重新安裝依賴
pip install --upgrade customtkinter opencv-python pillow numpy
```

### Q: 找不到 Python？

A: 請先安裝 Python 3.8 或更高版本
- Windows: https://www.python.org/downloads/
- 安裝時勾選 "Add Python to PATH"

---

## 🔧 進階設定

### 調整辨識參數

編輯 `core/image_processor.py`:

```python
# 調整硬幣檢測靈敏度
minRadius=15,  # 最小半徑
maxRadius=100  # 最大半徑

# 調整圓形度閾值
if circularity > 0.7:  # 降低此值可檢測更多候選
```

### 調整分類閾值

編輯 `core/coin_classifier.py`:

```python
# 調整尺寸分類閾值
if radius < 40:  # 5元/10元分界
if radius < 35:  # 1元/50元分界

# 調整正反面閾值
threshold = 0.5  # 紋理複雜度閾值
```

---

## 📞 技術支援

如有問題，請檢查:
1. Python 版本是否 >= 3.8
2. 所有依賴套件是否正確安裝
3. 圖片格式是否支援

---

**祝您使用愉快！** 🎉
